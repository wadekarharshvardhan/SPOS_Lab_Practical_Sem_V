//Chit No. 5 — SPPU — LP-I

//Write a program to simulate CPU Scheduling Algorithm: FCFS

import java.util.*;

class Process {
    int pid, arrivalTime, burstTime, startTime, finishTime;

    Process(int pid, int arrivalTime, int burstTime) {
        this.pid = pid;
        this.arrivalTime = arrivalTime;
        this.burstTime = burstTime;
    }
}

public class FCFS {
    public static void main(String[] args) {
        List<Process> processes = new ArrayList<>();
        processes.add(new Process(1, 0, 6));
        processes.add(new Process(2, 2, 4));
        processes.add(new Process(3, 4, 2));
        processes.add(new Process(4, 6, 5));

        processes.sort(Comparator.comparingInt(p -> p.arrivalTime));

        int clock = 0;
        Queue<Process> queue = new LinkedList<>();
        List<Process> completed = new ArrayList<>();

        while (!processes.isEmpty() || !queue.isEmpty()) {
            while (!processes.isEmpty() && processes.get(0).arrivalTime <= clock) {
                queue.add(processes.remove(0));
            }
            if (!queue.isEmpty()) {
                Process current = queue.poll();
                current.startTime = clock;
                clock += current.burstTime;
                current.finishTime = clock;
                completed.add(current);
            } else {
                clock++;
            }
        }

        for (Process p : completed) {
            System.out.println("Process " + p.pid + ": Start = " + p.startTime + ", Finish = " + p.finishTime);
        }
    }
}
